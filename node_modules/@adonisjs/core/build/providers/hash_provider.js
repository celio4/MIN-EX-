import "../chunk-iKc69rpz.js";
import "../debug-CGQmxzGt.js";
import { t as configProvider } from "../config_provider-FIAUgvae.js";
import { t as main_exports } from "../main-DkNgvceD.js";
import { RuntimeException } from "@poppinss/utils/exception";
var HashServiceProvider = class {
	constructor(app) {
		this.app = app;
	}
	registerHash() {
		this.app.container.singleton(main_exports.Hash, async (resolver) => {
			return (await resolver.make("hash")).use();
		});
	}
	registerHashManager() {
		this.app.container.singleton("hash", async () => {
			const hashConfigProvider = this.app.config.get("hash");
			const config = await configProvider.resolve(this.app, hashConfigProvider);
			if (!config) throw new RuntimeException("Invalid \"config/hash.ts\" file. Make sure you are using the \"defineConfig\" method");
			const { HashManager } = await import("../modules/hash/main.js");
			return new HashManager(config);
		});
	}
	register() {
		this.registerHashManager();
		this.registerHash();
	}
};
export { HashServiceProvider as default };
