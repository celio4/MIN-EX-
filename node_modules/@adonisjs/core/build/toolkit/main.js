#!/usr/bin/env node
import { t as __decorate } from "../decorate-DmrZA614.js";
import { BaseCommand, HelpCommand, IndexGenerator, Kernel, ListLoader, args } from "@adonisjs/ace";
import { join } from "node:path";
var IndexCommand = class extends BaseCommand {
	static commandName = "index";
	static description = "Create an index of commands along with a lazy loader";
	async run() {
		await new IndexGenerator(join(process.cwd(), this.commandsDir)).generate();
	}
};
__decorate([args.string({ description: "Relative path from cwd to the commands directory" })], IndexCommand.prototype, "commandsDir", void 0);
const kernel = Kernel.create();
kernel.addLoader(new ListLoader([IndexCommand]));
kernel.defineFlag("help", {
	type: "boolean",
	description: HelpCommand.description
});
kernel.on("help", async (command, $kernel, parsed) => {
	parsed.args.unshift(command.commandName);
	await new HelpCommand($kernel, parsed, kernel.ui, kernel.prompt).exec();
	return $kernel.shortcircuit();
});
await kernel.handle(process.argv.splice(2));
export {};
