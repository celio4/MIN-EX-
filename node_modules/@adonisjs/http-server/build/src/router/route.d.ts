import Macroable from '@poppinss/macroable';
import type { Application } from '@adonisjs/application';
import type { Constructor, LazyImport, OneOrMore } from '@poppinss/utils/types';
import type { MiddlewareFn, ParsedNamedMiddleware, ParsedGlobalMiddleware } from '../types/middleware.ts';
import type { RouteFn, RouteJSON, RouteMatcher, RouteMatchers, StoreRouteHandler, StoreRouteMiddleware, GetControllerHandlers } from '../types/route.ts';
/**
 * The Route class provides a fluent API for constructing and configuring HTTP routes.
 *
 * Routes define how HTTP requests are handled by mapping URL patterns and HTTP methods
 * to controller actions or inline handlers. This class supports middleware application,
 * parameter validation, naming, and various other route-specific configurations.
 *
 * @example
 * ```ts
 * const route = new Route(app, middleware, {
 *   pattern: '/users/:id',
 *   methods: ['GET'],
 *   handler: 'UsersController.show'
 * })
 *
 * route
 *   .where('id', /^[0-9]+$/)
 *   .middleware(['auth'])
 *   .as('users.show')
 * ```
 */
export declare class Route<Controller extends Constructor<any> = any> extends Macroable {
    #private;
    /**
     * Creates a new Route instance
     * @param app - The AdonisJS application instance
     * @param routerMiddleware - Array of global middleware registered on the router
     * @param options - Configuration options for the route
     */
    constructor(app: Application<any>, routerMiddleware: ParsedGlobalMiddleware[], options: {
        pattern: string;
        methods: string[];
        handler: RouteFn | string | [LazyImport<Controller> | Controller, GetControllerHandlers<Controller>?];
        globalMatchers: RouteMatchers;
    });
    /**
     * Returns the route's handler configuration object.
     */
    getHandler(): StoreRouteHandler;
    /**
     * Defines a validation matcher for a route parameter. Route-level matchers
     * take precedence over group-level matchers to ensure routes can override
     * group constraints.
     *
     * @param param - The name of the route parameter to validate
     * @param matcher - The validation pattern as a string, RegExp, or RouteMatcher object
     *
     * @example
     * ```ts
     * // Validate that 'id' is numeric
     * route.where('id', /^[0-9]+$/)
     *
     * // Using a string pattern
     * route.where('slug', '[a-z0-9-]+')
     *
     * // Route matcher takes precedence over group matcher
     * Route.group(() => {
     *   Route.get('/:id', 'handler').where('id', /^[0-9]$/)
     * }).where('id', /[^a-z$]/)
     * // The route's /^[0-9]$/ wins over the group's matcher
     * ```
     */
    where(param: string, matcher: RouteMatcher | string | RegExp): this;
    /**
     * Adds a URL prefix to the route pattern. Multiple calls stack prefixes
     * which are applied in reverse order during pattern computation.
     *
     * @param prefix - The URL prefix to prepend to the route pattern
     *
     * @example
     * ```ts
     * route.prefix('/api').prefix('/v1')
     * // Results in pattern: /v1/api/users (for original pattern /users)
     * ```
     */
    prefix(prefix: string): this;
    /**
     * Assigns a custom domain to the route. By default, routes belong to the
     * 'root' domain. Once set, the domain is not overwritten unless the
     * overwrite flag is true.
     *
     * @param domain - The domain identifier for this route
     * @param overwrite - Whether to overwrite an existing non-root domain
     *
     * @example
     * ```ts
     * route.domain('api.example.com')
     *
     * // Overwrite existing domain
     * route.domain('new.example.com', true)
     * ```
     */
    domain(domain: string, overwrite?: boolean): this;
    /**
     * Registers one or more middleware to execute before the route handler.
     * Middleware can be inline functions or named middleware references registered
     * with the router's middleware store.
     *
     * @param middleware - Single middleware or array of middleware to apply
     *
     * @example
     * ```ts
     * // Single middleware
     * route.use(async (ctx, next) => {
     *   console.log('Before handler')
     *   await next()
     * })
     *
     * // Multiple middleware
     * route.use(['auth', 'admin'])
     * ```
     */
    use(middleware: OneOrMore<MiddlewareFn | ParsedNamedMiddleware>): this;
    /**
     * Alias for the {@link Route.use} method.
     *
     * @param middleware - Single middleware or array of middleware to apply
     */
    middleware(middleware: OneOrMore<MiddlewareFn | ParsedNamedMiddleware>): this;
    /**
     * Assigns a unique name to the route for use in URL generation and route
     * referencing. Assigning a new name replaces any existing name unless
     * prepend is true.
     *
     * @param name - The route name to assign
     * @param prepend - If true, prepends the name to the existing name with a dot separator
     *
     * @example
     * ```ts
     * // Set route name
     * route.as('users.show')
     *
     * // Prepend to existing name (typically used by route groups)
     * route.as('admin', true) // Results in 'admin.users.show'
     * ```
     */
    as(name: string, prepend?: boolean): this;
    /**
     * Checks whether the route has been marked for deletion. Deleted routes
     * are excluded from the route store during registration.
     */
    isDeleted(): boolean;
    /**
     * Marks the route for deletion. Deleted routes will not be registered
     * with the route store when Router.commit() is called.
     *
     * @example
     * ```ts
     * const route = Route.get('/admin', 'handler')
     * route.markAsDeleted()
     * // This route will not be registered
     * ```
     */
    markAsDeleted(): void;
    /**
     * Returns the unique name assigned to the route, if any.
     */
    getName(): string | undefined;
    /**
     * Returns the route's URL pattern with dynamic parameters.
     */
    getPattern(): string;
    /**
     * Updates the route's URL pattern.
     *
     * @param pattern - The new URL pattern to assign to the route
     *
     * @example
     * ```ts
     * route.setPattern('/users/:id/posts/:postId')
     * ```
     */
    setPattern(pattern: string): this;
    /**
     * Returns the multi-dimensional middleware stack registered on this route.
     * The returned value is shared by reference, not a copy.
     */
    getMiddleware(): StoreRouteMiddleware[][];
    /**
     * Serializes the route into a JSON representation suitable for storage and
     * execution. This includes the computed pattern with prefixes, merged matchers,
     * parsed route tokens, and frozen middleware stack.
     *
     * @example
     * ```ts
     * const json = route.toJSON()
     * console.log(json.pattern) // '/api/users/:id'
     * console.log(json.methods) // ['GET']
     * console.log(json.name) // 'users.show'
     * ```
     */
    toJSON(): RouteJSON;
}
